file.create("web/w11_taskset/scripts/score_questionnaire.R")
file.create("web/w11_taskset/scripts/compute_rt_if_missing.R")file.create("web/w11_taskset/scripts/summarize_behavior.R")
file.create("scripts/score_questionnaire.R")
file.create("scripts/compute_rt_if_missing.R")
file.create("scripts/summarize_behavior.R")
file.create("scripts/process_participant.R")
file.create("reports/w11_taskset.qmd")
rm("reports/w11_taskset.qmd")
delete("reports/w11_taskset.qmd")
source("scripts/import_est_from_osf.R")
list.files("data/raw")
traceback()
participant_rows <- lapply(file_list, process_participant)
traceback()
subject_id <- sub("\\.csv$", "", basename(file_path))
list.files("data/raw", pattern = "^est-experiment-.*\\.csv$", full.names = TRUE)
file_path  <- here::here("data", "raw", "est-experiment-2025-11-05-09-04-45.csv")
subject_id <- sub("\\.csv$", "", basename(file_path))
participant_data <- read.csv(file_path)
if (!all(required_cols %in% names(participant_data))) {
stop(
paste(
"Input data frame missing required columns in",
sub("\\.csv$", "", basename(file_name)),
"\nExpected:",
paste(required_cols, collapse = ", "),
"\nFound:",
paste(names(participant_data), collapse = ", ")
)
)
}
View(participant_data)
if (!all(required_cols %in% names(participant_data))) {
stop(
paste(
"Input data frame missing required columns in",
sub("\\.csv$", "", basename(file_name)),
"\nExpected:",
paste(required_cols, collapse = ", "),
"\nFound:",
paste(names(participant_data), collapse = ", ")
)
)
}
required_cols <- c("rt", "correct", "trialType")
if (!all(required_cols %in% names(participant_data))) {
stop(
paste(
"Input data frame missing required columns in",
sub("\\.csv$", "", basename(file_name)),
"\nExpected:",
paste(required_cols, collapse = ", "),
"\nFound:",
paste(names(participant_data), collapse = ", ")
)
)
}
if (!all(required_cols %in% names(participant_data))) {
stop(
paste(
"Input data frame missing required columns in",
sub("\\.csv$", "", basename(file_path)),
"\nExpected:",
paste(required_cols, collapse = ", "),
"\nFound:",
paste(names(participant_data), collapse = ", ")
)
)
}
study_level <- do.call(rbind, participant_rows)
participant_rows <- lapply(file_list, process_participant)
View(participant_data)
participant_data <- compute_rt_if_missing(participant_data)
